extends ../../layouts/default.pug
include ../../mixins/buttonStatus
include ../../mixins/search.pug
include ../../mixins/pagination.pug

block main 
  h1 This is Products Admin Page

  div(class="card mb-3")
    div(class="card-header") Filter and Search
    div(class="card-body")
      div(class="row")
        div(class="col-6")
          +buttonStatus(buttons)

        div(class="col-6")
          +search(keyword)

  div(class="card mb-3")
    div(class="card-header") Products List 
    div(class="card-body")
      table(class="table table-hover table-sm")
        thead 
          tr 
            th Serial Number 
            th Image 
            th Title 
            th Price 
            th Status 
            th Active 

        tbody 
          each item, index in products
            tr 
              td #{index + 1}
              td
                img(src=item.thumbnail, alt=item.title
                    width="100px" height="auto")
              td #{item.title}
              td #{item.price}$
              td 
                if item.status === "active"
                  a(href="javascript:;" 
                    button-data-status="active"
                    button-data-id=item.id
                    class="badge badge-success"
                    button-change-status
                  ) #{item.status}
                else 
                  a(href="javascript:;" 
                    class="badge badge-danger"
                    button-change-status
                    button-data-status="inactive"
                    button-data-id=item.id
                  ) #{item.status}
              td 
                button(class="btn btn-warning btn-sm") Edit 
                button(class="btn btn-danger btn-sm ml-1") Delete
  
  +pagination(pagination)

  form(action="" method="POST" id="form-change-status" data-path=`${prefixAdmin}/products/change-status`) 
  script(src="/admin/JS/products.js") 

